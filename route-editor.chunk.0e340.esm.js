(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3KKX":function(e,t,n){"use strict";n.r(t),function(e){var r=n("hosL"),c=n("QRet"),l=n("KpmI"),i=n("QfWl"),o=n("lHvK"),h=n("oanP"),a=n("lqEU");n("6cVg");t.default=({file:t})=>{const n=Object(c.a)(l.a),[u,d]=Object(c.d)(1),[s,b]=Object(c.d)(!0),f=+t;return f in n.all?Object(r.h)(e,null,Object(r.h)(s?o.a:i.a,{editing:f,onZoomChange:d,zoom:u}),Object(r.h)("div",{class:"vertical toolbar"},Object(r.h)("button",null,Object(r.h)("label",null,Object(r.h)("input",{type:"checkbox",checked:s,onInput:e=>b(e.currentTarget.checked)}),Object(r.h)(h.a,{style:"round",name:""}))),Object(r.h)("button",{onClick:()=>{u>.25&&d(u-.25)}},Object(r.h)(h.a,{name:"zoom_out",style:"outlined"})),Object(r.h)("button",{onClick:()=>{u<=2.5&&d(u+.25)}},Object(r.h)(h.a,{name:"zoom_in",style:"outlined"}))),Object(r.h)("div",{class:"horizontal toolbar"},Object(r.h)("button",{onClick:()=>n.undo()},Object(r.h)(h.a,{name:"undo"})),Object(r.h)("button",{onClick:()=>n.redo()},Object(r.h)(h.a,{name:"redo"})))):Object(r.h)(a.a,{to:"/"})}}.call(this,n("hosL").Fragment)},"6cVg":function(){},QfWl:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){e.preventDefault()}var o=n("hosL"),h=n("QRet"),a=n("KpmI"),u=n("oanP"),d=n("H/LE");const s=new MutationObserver((e=>{for(const r of e){const e=r.addedNodes[0];var t,n;if(e instanceof HTMLElement)null===(t=e.querySelector("textarea"))||void 0===t||null===(n=t.focus)||void 0===n||n.call(t)}}));t.a=({editing:e,zoom:t=1})=>{const n=Object(h.c)(null),r=Object(h.a)(a.a),l=Object(h.c)(null),b=function(e){const[t,n]=Object(h.d)(!1);return Object(h.b)((()=>{function t(e){n(e.matches)}const r=window.matchMedia(e);return r.addEventListener("change",t),()=>{r.removeEventListener("change",t)}}),[e]),t}("(max-width: 640px)"),f=r.all[e];Object(h.b)((()=>(s.observe(l.current,{childList:!0,subtree:!0}),()=>s.disconnect())));const p=t=>r.change(e,((e,n)=>{if("width"!==e&&"height"!==e&&"x"!==e&&"y"!==e){if(Array.isArray(n.children)&&n.children.length&&"heading"!==n.type){const e=n.children.findIndex((e=>e.children.indexOf(t)>-1))+1;if(e){const r=c(c({},n),{},{children:n.children.map(((n,r)=>r===e-1?c(c({},n),{},{children:n.children.filter((e=>e!==t))}):n))});return r.children.splice(e,0,t),r}}return n}})),y=(t,l,i)=>{const{lines:h,width:a}=Object(d.a)(t.text||"New item...",b?17:20);return Object(o.h)("li",{class:t.type},Object(o.h)("textarea",{style:{width:a},rows:h.length,value:t.text,onFocus:()=>n.current=t,onBlur:()=>n.current=null,tabIndex:-1,onInput:n=>r.change(e,((e,r)=>{if("width"!==e&&"height"!==e&&"x"!==e&&"y"!==e)return r===t?c(c({},t),{},{text:n.currentTarget.value}):r})),onKeyDown:n=>{"Enter"===n.key&&(n.preventDefault(),t.text?n.ctrlKey?r.change(e,((e,r)=>{if("width"!==e&&"height"!==e&&"x"!==e&&"y"!==e)return r===t?c(c({},t),{},{text:`${t.text.slice(0,n.currentTarget.selectionStart)}\n${t.text.slice(n.currentTarget.selectionEnd)}`}):r})):n.currentTarget.selectionStart===n.currentTarget.selectionEnd&&n.currentTarget.selectionStart===t.text.length?r.change(e,f.children===i||t.children.length||n.shiftKey?(e,n)=>{if("width"!==e&&"height"!==e&&"x"!==e&&"y"!==e){if(n===t){if("note"===t.type)return c(c({},t),{},{children:[...t.children,{text:"",children:[],type:"note"}]});const e=c(c({},t),{},{children:[...t.children]});return e.children.splice(t.children.findIndex((e=>"note"===e.type))+1||t.children.length,0,{text:"",children:[],type:"body"}),e}return n}}:(e,r)=>{if("width"!==e&&"height"!==e&&"x"!==e&&"y"!==e){if(r.children===i){const e=c(c({},r),{},{children:[...i]});return e.children.splice(l+1,0,{text:"",children:[],type:n.shiftKey||"note"===t.type?"note":"body"}),e}return r}}):n.currentTarget.selectionEnd=n.currentTarget.selectionStart=t.text.length:p(t)),"Backspace"!==n.key||t.text||r.change(e,((e,n)=>{if("width"!==e&&"height"!==e&&"x"!==e&&"y"!==e)return n.children===i?c(c({},n),{},{children:i.filter((e=>e!==t))}):n})),"Tab"===n.key&&l&&i!==f.children&&(n.preventDefault(),n.shiftKey?p(t):r.change(e,((e,n)=>{if("width"!==e&&"height"!==e&&"x"!==e&&"y"!==e){if(n.children===i){const e=c(c({},n),{},{children:[...i]});return e.children.splice(l-1,2,c(c({},i[l-1]),{},{children:i[l-1].children.concat(t)})),e}return n}})))},placeholder:"New item..."}),!t.children.length||Object(o.h)("ul",{class:t.type},t.children.map(y)))},O=(t,l)=>i=>{null==i||i.preventDefault();if(n.current&&f.children[l]===n.current||f.children[l].children.some((function e(t){return t===n.current||t.children.some(e)})))var o=n.current;else for(o=f.children[l];o.children.length;o=o.children[o.children.length-1]);const h=f.children.includes(o)||!!o.children.length;r.change(e,((e,n)=>{var r;if("width"!==e&&"height"!==e&&"x"!==e&&"y"!==e)return n===o&&h?c(c({},o),{},{children:[...o.children,{text:"",type:t,children:[]}]}):!h&&null!==(r=n.children)&&void 0!==r&&r.includes(o)?c(c({},n),{},{children:[...n.children,{text:"",type:t,children:[]}]}):n}))};return Object(o.h)("div",{style:{zoom:100*t+"%"},ref:l},Object(o.h)("h1",null,Object(o.h)("input",{value:f.text,onInput:t=>r.change(e,((n,l)=>{if("width"!==n&&"height"!==n&&"x"!==n&&"y"!==n)return l===r.all[e]?c(c({},l),{},{text:t.currentTarget.value}):l})),onKeyUp:t=>"Enter"===t.key&&r.change(e,((t,n)=>{if("width"!==t&&"height"!==t&&"x"!==t&&"y"!==t)return n===r.all[e]?c(c({},n),{},{children:[...n.children,{text:"",children:[],type:`color-${Math.floor(36*Math.random())+1}`}]}):n}))})),r.all[e].children.map(y).map(((e,t)=>Object(o.h)("ul",{class:`list ${e.props.class}`,key:t},e,Object(o.h)("li",{class:"add",onMouseDown:i,onClick:O("body",t)},Object(o.h)(u.a,{name:"grid_view",style:"round",role:"button"})),Object(o.h)("li",null),Object(o.h)("li",{class:"add",onMouseDown:i,onClick:O("note",t)},Object(o.h)(u.a,{name:"description",style:"round",role:"button"}))))))}},lqEU:function(e,t,n){"use strict";var r=n("hosL"),c=n("Y3FI");t.a=class extends r.Component{componentWillMount(){Object(c.route)(this.props.to,!0)}render(){return null}}},oanP:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(n=l[r])>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t.indexOf(n=l[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var l=n("hosL");const i=["name","color","style"];class o extends l.Component{render(e){let{name:t,color:n,style:o=""}=e,h=c(e,i);return Object(l.h)("span",r({style:{color:n},class:"material-icons"+(o&&"-"+o)},h),t)}}o||(o={}),t.a=o}}]);
//# sourceMappingURL=route-editor.chunk.0e340.esm.js.map